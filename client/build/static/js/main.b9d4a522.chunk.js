(this["webpackJsonpgame-website"]=this["webpackJsonpgame-website"]||[]).push([[0],{159:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(84),r=a.n(c),i=a(1);a(93);var l=function(e,t){t.history;var a,c,r=s.a.createRef(),l=function(){var e=Object(n.useState)([window.innerHeight,window.innerWidth]),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){var e=function(){s([window.innerHeight,window.innerWidth])};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a}(),o=Object(i.a)(l,2),u=o[0],m=o[1],d=Object(n.useState)("NoAccessDenied"),b=Object(i.a)(d,2),f=b[0],E=b[1],p=Object(n.useState)(0),v=Object(i.a)(p,2),h=v[0],w=v[1];return Object(n.useEffect)((function(){w(Math.floor(1e10*Math.random()))}),[]),u>400&&m>515?(a="Welcome",c="Version"):u<310?(a="WelcomeMobile",c="NoVersion"):(a="WelcomeMobile",c="Version"),s.a.createElement("div",{className:"AuthorizationPage"},s.a.createElement("div",{className:"CenterContainer"},s.a.createElement("div",{className:a},"This ",s.a.createElement("em",null,"Website")," is Restricted."),s.a.createElement("div",{className:"Hint"},"(Not really though... the access code is hidden somewhere on this website)"),s.a.createElement("form",{className:"AccessCode",onSubmit:function(t){t.preventDefault(),parseInt(r.current.value)===h?e.setCurrentWebsite("chat"):E("AccessDenied")}},s.a.createElement("input",{type:"text",placeholder:"Access Code",ref:r}),s.a.createElement("button",null,"Enter")),s.a.createElement("div",{className:f},"Access Denied!")),s.a.createElement("div",{className:"HiddenCode"},h),s.a.createElement("div",{className:c},"Version:1.1.4 - Updated:6/11/20"))},o=(a(94),a(9)),u=a.n(o),m=a(87),d=(a(158),"https://onlypeters.com");var b=function(e){var t=Object(n.useState)("(None)"),a=Object(i.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),b=o[0],f=o[1],E=Object(n.useState)(""),p=Object(i.a)(E,2),v=p[0],h=p[1],w=Object(n.useState)(""),O=Object(i.a)(w,2),j=O[0],g=O[1],N=Object(n.useState)([]),C=Object(i.a)(N,2),S=C[0],A=C[1],P=Object(n.useState)(!1),M=Object(i.a)(P,2),y=M[0],W=M[1],x=Object(n.useState)(!1),I=Object(i.a)(x,2),B=I[0],L=I[1],U=Object(n.useState)(!1),D=Object(i.a)(U,2),q=D[0],H=D[1],k=Object(n.useState)("test"),F=Object(i.a)(k,2),z=F[0],V=F[1],R=Object(n.useState)("BlurFlexContainer"),J=Object(i.a)(R,2),_=J[0],T=J[1],G=Object(n.useState)(0),K=Object(i.a)(G,2),Q=K[0],X=K[1],Y=Object(n.useState)(0),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1],te=Object(n.useRef)(null),ae=function(){var e=Object(n.useState)([window.innerHeight,window.innerWidth]),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){var e=function(){s([window.innerHeight,window.innerWidth])};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a}(),ne=Object(i.a)(ae,2),se=(ne[0],ne[1]);Object(n.useEffect)((function(){te.current.scrollIntoView({behavior:"smooth"})}),[S]),Object(n.useEffect)((function(){ue(),setInterval(ue,500)}),[]),Object(n.useEffect)((function(){ie(),setInterval(ie,500)}),[]);var ce=function(e){e.preventDefault(),console.log(test),oe()};Object(n.useEffect)((function(){return window.addEventListener("beforeunload",ce),function(){return window.removeEventListener("beforeunload",ce)}}),[ce]);var re,ie=function(){u.a.get(d+"/api/getUserCount").then((function(e){ee(e.data[0].user_count)}))},le=function(){u.a.get(d+"/api/startSession",{params:{alias:b}}).then((function(e){X(e.data[1][0].session_id)}))},oe=function(){u.a.delete(d+"/api/endSession",{data:{sessionId:Q}}),X(0)},ue=function(){u.a.get(d+"/api/getMessage").then((function(e){A(e.data)}))};return Object(n.useEffect)((function(){T(B?"FlexContainer":"BlurFlexContainer")}),[B]),Object(n.useEffect)((function(){q||V("")}),[q]),re=se>500?"PopBox":"MobilePopBox",s.a.createElement("div",null,!y&&!B&&s.a.createElement("div",{className:re},s.a.createElement("div",{className:"PopMessage"},"Use previously created alias and password to login. (Passwords cannot be recovered). "),s.a.createElement("form",{className:"PopForm",onSubmit:function(e){e.preventDefault(),u.a.get(d+"/api/isUserAuth",{params:{alias:b,password:v}}).then((function(e){e.data?(r(b),L(!0),le()):(V("Account credentials are incorrect."),H(!0))}))}},s.a.createElement("input",{className:"AliasInput",required:!0,type:"text",placeholder:"Alias",onChange:function(e){f(e.target.value)}}),s.a.createElement("br",null),s.a.createElement("input",{className:"PasswordInput",type:"password",placeholder:"Password",onChange:function(e){h(e.target.value)}}),s.a.createElement("br",null),s.a.createElement("button",null,"Login")),s.a.createElement("br",null),s.a.createElement("button",{className:"PopSwitch",required:!0,onClick:function(){W(!0),H(!1)}},"Create new alias."),s.a.createElement("div",{className:"Error"},z)),y&&!B&&s.a.createElement("div",{className:re},s.a.createElement("div",{className:"PopMessage"},"Create new alias. Bad passwords will be shamed. (Passwords cannot be recovered)."),s.a.createElement("form",{className:"PopForm",onSubmit:function(e){e.preventDefault(),u.a.get(d+"/api/isAliasUnique",{params:{alias:b}}).then((function(e){e.data?(console.log(b),b.length<=20?(r(b),L(!0),le(),u.a.post(d+"/api/insertUser",{alias:b,password:v})):(V("Alias must be less than 20 characters."),H(!0))):(V("Alias has already been taken."),H(!0))}))}},s.a.createElement("input",{className:"AliasInput",required:!0,type:"text",placeholder:"Unique Alias",onChange:function(e){f(e.target.value)}}),s.a.createElement("br",null),s.a.createElement("input",{className:"PasswordInput",required:!0,type:"password",placeholder:"Create Password",onChange:function(e){h(e.target.value)}}),s.a.createElement("br",null),s.a.createElement("button",null,"Create Alias")),s.a.createElement("br",null),s.a.createElement("button",{className:"PopSwitch",onClick:function(){W(!1),H(!1)}},"Login with alias."),s.a.createElement("div",{className:"Error"},z)),s.a.createElement("div",{className:_},s.a.createElement("div",{className:"ChatBox ContainerItem"},s.a.createElement("div",{className:"ChatHeader"},s.a.createElement("div",{className:"OnlineUsers"},s.a.createElement("span",{className:"OnlineBullet"},"\u2022")," Active Users: ",$),s.a.createElement("div",{className:"CurrentAlias"},"Alias: ",s.a.createElement("span",{className:"Alias"},c)," | "),s.a.createElement("button",{className:"LogoutButton",disabled:!B,onClick:function(){L(!1),r("(None)"),oe()}},"Logout")),s.a.createElement("div",{className:"MessageBox"},s.a.createElement(m.a,{style:{height:"100%"}},S.map((function(e){return s.a.createElement("div",null,"<",s.a.createElement("span",{className:"Alias"},e.alias),"> ",e.message)})),s.a.createElement("div",{ref:te}))),s.a.createElement("form",{className:"MessageForm",onSubmit:function(e){e.preventDefault(),u.a.post(d+"/api/insertMessage",{alias:c,message:j}),g("")}},s.a.createElement("input",{className:"MessageInput",value:j,disabled:!B,required:!0,type:"text",placeholder:"Message",onChange:function(e){g(e.target.value)}}),s.a.createElement("button",{className:"SendButton",disabled:!B},"Send")))))};a(159);var f=function(){var e=Object(n.useState)("auth"),t=Object(i.a)(e,2),a=t[0],c=t[1];return s.a.createElement("div",{className:"App"},"auth"===a&&s.a.createElement(l,{currentWebsite:a,setCurrentWebsite:c}),"chat"===a&&s.a.createElement(b,{currentWebsite:a,setCurrentWebsite:c}))};r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(f,null)),document.getElementById("root"))},88:function(e,t,a){e.exports=a(160)},93:function(e,t,a){},94:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.b9d4a522.chunk.js.map