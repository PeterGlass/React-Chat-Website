(this["webpackJsonpgame-website"]=this["webpackJsonpgame-website"]||[]).push([[0],{159:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(84),r=a.n(c),i=a(1);a(93);var l=function(e,t){t.history;var a,c,r=s.a.createRef(),l=function(){var e=Object(n.useState)([window.innerHeight,window.innerWidth]),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){var e=function(){s([window.innerHeight,window.innerWidth])};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a}(),o=Object(i.a)(l,2),u=o[0],m=o[1],d=Object(n.useState)("NoAccessDenied"),b=Object(i.a)(d,2),p=b[0],f=b[1],E=Object(n.useState)(0),h=Object(i.a)(E,2),v=h[0],w=h[1];return Object(n.useEffect)((function(){w(Math.floor(1e10*Math.random()))}),[]),u>400&&m>515?(a="Welcome",c="Version"):u<310?(a="WelcomeMobile",c="NoVersion"):(a="WelcomeMobile",c="Version"),s.a.createElement("div",{className:"AuthorizationPage"},s.a.createElement("div",{className:"CenterContainer"},s.a.createElement("div",{className:a},"This ",s.a.createElement("em",null,"Website")," is Restricted."),s.a.createElement("div",{className:"Hint"},"(Not really though... the access code is hidden somewhere on this website)"),s.a.createElement("form",{className:"AccessCode",onSubmit:function(t){t.preventDefault(),parseInt(r.current.value)===v?e.setCurrentWebsite("chat"):f("AccessDenied")}},s.a.createElement("input",{type:"text",placeholder:"Access Code",ref:r}),s.a.createElement("button",null,"Enter")),s.a.createElement("div",{className:p},"Access Denied!")),s.a.createElement("div",{className:"HiddenCode"},v),s.a.createElement("div",{className:c},"Version:1.1.4 - Updated:6/11/20"))},o=(a(94),a(9)),u=a.n(o),m=a(87);a(158);var d=function(e){var t=Object(n.useState)("(None)"),a=Object(i.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),d=o[0],b=o[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),E=f[0],h=f[1],v=Object(n.useState)(""),w=Object(i.a)(v,2),O=w[0],j=w[1],g=Object(n.useState)([]),N=Object(i.a)(g,2),C=N[0],S=N[1],A=Object(n.useState)(!1),y=Object(i.a)(A,2),P=y[0],M=y[1],W=Object(n.useState)(!1),x=Object(i.a)(W,2),I=x[0],B=x[1],L=Object(n.useState)(!1),U=Object(i.a)(L,2),D=U[0],q=U[1],H=Object(n.useState)("test"),k=Object(i.a)(H,2),F=k[0],z=k[1],V=Object(n.useState)("BlurFlexContainer"),R=Object(i.a)(V,2),J=R[0],_=R[1],T=Object(n.useState)(0),G=Object(i.a)(T,2),K=G[0],Q=G[1],X=Object(n.useState)(0),Y=Object(i.a)(X,2),Z=Y[0],$=Y[1],ee=Object(n.useRef)(null),te=function(){var e=Object(n.useState)([window.innerHeight,window.innerWidth]),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){var e=function(){s([window.innerHeight,window.innerWidth])};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a}(),ae=Object(i.a)(te,2),ne=(ae[0],ae[1]);Object(n.useEffect)((function(){ee.current.scrollIntoView({behavior:"smooth"})}),[C]),Object(n.useEffect)((function(){oe(),setInterval(oe,500)}),[]),Object(n.useEffect)((function(){re(),setInterval(re,500)}),[]);var se=function(e){e.preventDefault(),console.log(test),le()};Object(n.useEffect)((function(){return window.addEventListener("beforeunload",se),function(){return window.removeEventListener("beforeunload",se)}}),[se]);var ce,re=function(){u.a.get("https://onlypeters.com/api/getUserCount").then((function(e){$(e.data[0].user_count)}))},ie=function(){u.a.get("https://onlypeters.com/api/startSession",{params:{alias:d}}).then((function(e){Q(e.data[1][0].session_id)}))},le=function(){u.a.delete("https://onlypeters.com/api/endSession",{data:{sessionId:K}}),Q(0)},oe=function(){u.a.get("https://onlypeters.com/api/getMessage").then((function(e){S(e.data)}))};return Object(n.useEffect)((function(){_(I?"FlexContainer":"BlurFlexContainer")}),[I]),Object(n.useEffect)((function(){D||z("")}),[D]),ce=ne>500?"PopBox":"MobilePopBox",s.a.createElement("div",null,!P&&!I&&s.a.createElement("div",{className:ce},s.a.createElement("div",{className:"PopMessage"},"Use previously created alias and password to login. (Passwords cannot be recovered). "),s.a.createElement("form",{className:"PopForm",onSubmit:function(e){e.preventDefault(),u.a.get("https://onlypeters.com/api/isUserAuth",{params:{alias:d,password:E}}).then((function(e){e.data?(r(d),B(!0),ie()):(z("Account credentials are incorrect."),q(!0))}))}},s.a.createElement("input",{className:"AliasInput",required:!0,type:"text",placeholder:"Alias",onChange:function(e){b(e.target.value)}}),s.a.createElement("br",null),s.a.createElement("input",{className:"PasswordInput",type:"password",placeholder:"Password",onChange:function(e){h(e.target.value)}}),s.a.createElement("br",null),s.a.createElement("button",null,"Login")),s.a.createElement("br",null),s.a.createElement("button",{className:"PopSwitch",required:!0,onClick:function(){M(!0),q(!1)}},"Create new alias."),s.a.createElement("div",{className:"Error"},F)),P&&!I&&s.a.createElement("div",{className:ce},s.a.createElement("div",{className:"PopMessage"},"Create new alias. Bad passwords will be shamed. (Passwords cannot be recovered)."),s.a.createElement("form",{className:"PopForm",onSubmit:function(e){e.preventDefault(),u.a.get("https://onlypeters.com/api/isAliasUnique",{params:{alias:d}}).then((function(e){e.data?d<=20?(r(d),B(!0),ie(),u.a.post("https://onlypeters.com/api/insertUser",{alias:d,password:E})):(z("Alias must be less than 20 characters."),q(!0)):(z("Alias has already been taken."),q(!0))}))}},s.a.createElement("input",{className:"AliasInput",required:!0,type:"text",placeholder:"Unique Alias",onChange:function(e){b(e.target.value)}}),s.a.createElement("br",null),s.a.createElement("input",{className:"PasswordInput",required:!0,type:"password",placeholder:"Create Password",onChange:function(e){h(e.target.value)}}),s.a.createElement("br",null),s.a.createElement("button",null,"Create Alias")),s.a.createElement("br",null),s.a.createElement("button",{className:"PopSwitch",onClick:function(){M(!1),q(!1)}},"Login with alias."),s.a.createElement("div",{className:"Error"},F)),s.a.createElement("div",{className:J},s.a.createElement("div",{className:"ChatBox ContainerItem"},s.a.createElement("div",{className:"ChatHeader"},s.a.createElement("div",{className:"OnlineUsers"},s.a.createElement("span",{className:"OnlineBullet"},"\u2022")," Active Users: ",Z),s.a.createElement("div",{className:"CurrentAlias"},"Alias: ",s.a.createElement("span",{className:"Alias"},c)," | "),s.a.createElement("button",{className:"LogoutButton",disabled:!I,onClick:function(){B(!1),r("(None)"),le()}},"Logout")),s.a.createElement("div",{className:"MessageBox"},s.a.createElement(m.a,{style:{height:"100%"}},C.map((function(e){return s.a.createElement("div",null,"<",s.a.createElement("span",{className:"Alias"},e.alias),"> ",e.message)})),s.a.createElement("div",{ref:ee}))),s.a.createElement("form",{className:"MessageForm",onSubmit:function(e){e.preventDefault(),u.a.post("https://onlypeters.com/api/insertMessage",{alias:c,message:O}),j("")}},s.a.createElement("input",{className:"MessageInput",value:O,disabled:!I,required:!0,type:"text",placeholder:"Message",onChange:function(e){j(e.target.value)}}),s.a.createElement("button",{className:"SendButton",disabled:!I},"Send")))))};a(159);var b=function(){var e=Object(n.useState)("auth"),t=Object(i.a)(e,2),a=t[0],c=t[1];return s.a.createElement("div",{className:"App"},"auth"===a&&s.a.createElement(l,{currentWebsite:a,setCurrentWebsite:c}),"chat"===a&&s.a.createElement(d,{currentWebsite:a,setCurrentWebsite:c}))};r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(b,null)),document.getElementById("root"))},88:function(e,t,a){e.exports=a(160)},93:function(e,t,a){},94:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.b94d4d6d.chunk.js.map